<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <title>WebGL Gaussian Splat Viewer</title>
    <meta charset="utf-8" />
    <meta name="viewport"
          content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <!-- 內嵌樣式表（原本的 styles.css 內容） -->
    <style>
    /* =====================================================
       1. 全域變數（顏色 / 尺寸）
       ===================================================== */
    :root{
        /* ---- 顏色主題 ---- */
        --btn-bg:           #333;
        --btn-bg-hover:     #555;
        --btn-text:         #fff;

        /* ---- 尺寸（用 clamp() RWD） ---- */
        --btn-font:         clamp(14px, 2.3vw, 18px);
        --btn-pad-y:        clamp(8px, 1.5vw, 14px);
        --btn-pad-x:        clamp(32px, 4vw, 56px);

        --btn-radius:       9999px;  /* pill */
    }

    /* =====================================================
       2. 基本排版
       ===================================================== */
    body{
        overflow:hidden;
        margin:0;
        height:100vh;
        width:100vw;
        font-family:sans-serif;
        background:#000;
        text-shadow:0 0 3px #000;
    }
    a, body{ color:#fff; }

    #info{ position:absolute; top:10px; left:15px; z-index:100; }
    h3{ margin:5px 0; }
    p { margin:5px 0; font-size:small; }

    /* =====================================================
       3. 旋轉立方體動畫（保持原樣）
       ===================================================== */
    .cube-wrapper{ transform-style:preserve-3d; }
    .cube{ transform-style:preserve-3d; transform:rotateX(45deg) rotateZ(45deg); animation:rotation 2s infinite; }
    .cube-faces{ transform-style:preserve-3d; height:80px; width:80px; position:relative; transform-origin:0 0; transform:translateZ(-40px); }
    .cube-face{ position:absolute; inset:0; background:#0017ff; border:solid 1px #fff; }
    .cube-face.top   { transform:translateZ(80px); }
    .cube-face.front { transform-origin:0 50%; transform:rotateY(-90deg); }
    .cube-face.back  { transform-origin:0 50%; transform:rotateY(-90deg) translateZ(-80px); }
    .cube-face.right { transform-origin:50% 0; transform:rotateX(-90deg) translateY(-80px); }
    .cube-face.left  { transform-origin:50% 0; transform:rotateX(-90deg) translateY(-80px) translateZ(80px); }

    @keyframes rotation{
        0%   { transform:rotateX(45deg) rotateY(0) rotateZ(45deg);  animation-timing-function:cubic-bezier(.17,.84,.44,1); }
        50%  { transform:rotateX(45deg) rotateY(0) rotateZ(225deg); animation-timing-function:cubic-bezier(.76,.05,.86,.06); }
        100% { transform:rotateX(45deg) rotateY(0) rotateZ(405deg); animation-timing-function:cubic-bezier(.17,.84,.44,1); }
    }

    /* =====================================================
       4. 場景／訊息／進度條
       ===================================================== */
    .scene,#message{ position:absolute; inset:0; display:flex; align-items:center; justify-content:center; z-index:2; }
    #message{ font-weight:bold; font-size:large; color:red; pointer-events:none; }

    #progress{ position:absolute; top:0; height:5px; background:blue; z-index:99; transition:width .1s ease-in-out; }
    #quality{ position:absolute; bottom:10px; right:10px; z-index:999; }
    #caminfo{ position:absolute; top:10px; right:10px; z-index:999; }

    #canvas{ position:absolute; inset:0; width:100%; height:100%; display:block; touch-action:none; }

    details{ font-size:small; }
    #instructions{ background:rgba(0,0,0,.6); white-space:pre-wrap; padding:10px; border-radius:10px; font-size:x-small; }

    body.nohf .nohf{ display:none; }
    body.nohf #progress,
    body.nohf .cube-face{ background:#ff9d0d; }

    /* =====================================================
       5. 控制按鈕排版：兩橫排平均分配
       ===================================================== */
    #controls{
        position:fixed;
        bottom:20px;
        left:50%;
        transform:translateX(-50%);

        /* 兩列 Grid，自動擴充欄 */
        display:grid;
        grid-auto-flow:column;
        grid-template-rows:repeat(2, auto);
        gap:clamp(10px, 2vw, 18px) clamp(3vw, 4vw, 40px);

        justify-content:center;
        align-content:center;
    }

    /* 讓內層 <div> 只當群組，不佔版面 */
    #controls > div{ display:contents; }

    /* =====================================================
       6. 按鈕樣式（無底線）
       ===================================================== */
    button,
    .btn{
        background:var(--btn-bg);
        color:var(--btn-text);

        font-weight:700;
        font-size:var(--btn-font);
        line-height:1;
        text-transform:uppercase;
        text-decoration:none;

        border:none;
        border-radius:var(--btn-radius);
        padding:var(--btn-pad-y) var(--btn-pad-x);
        cursor:pointer;

        transition:background .2s, transform .1s ease;
    }
    button:hover,
    button:focus-visible,
    .btn:hover,
    .btn:focus-visible{
        background:var(--btn-bg-hover);
    }
    button:active,
    .btn:active{
        transform:scale(.97);
    }

    /* =====================================================
       7. 下拉選單美化
       ===================================================== */
    #objectSelect{
        /* 位置 */
        position:fixed;
        top:60px;
        left:15px;
        z-index:150;

        /* 尺寸字級：沿用變數 */
        font-size:var(--btn-font);
        line-height:1.2;
        padding:calc(var(--btn-pad-y) - 2px) calc(var(--btn-pad-x) - 8px)
                calc(var(--btn-pad-y) - 2px) calc(var(--btn-pad-x) - 4px);

        /* 外觀 */
        color:var(--btn-text);
        background:var(--btn-bg);
        border:1px solid var(--btn-bg-hover);
        border-radius:8px;
        cursor:pointer;
        transition:background .2s, border .2s;
        appearance:none;
        -moz-appearance:none;
        -webkit-appearance:none;

        /* 自製箭頭 */
        background-image:
          linear-gradient(45deg, transparent 50%, var(--btn-text) 50%),
          linear-gradient(-45deg, transparent 50%, var(--btn-text) 50%);
        background-position:
          right 12px center,
          right 6px  center;
        background-size:6px 6px;
        background-repeat:no-repeat;
    }
    #objectSelect:hover,
    #objectSelect:focus{
        background:var(--btn-bg-hover);
        border-color:#888;
        outline:none;
    }
    #objectSelect option{
        background:#222;
        color:#fff;
    }

    /* 手機放大點擊區 */
    @media (max-width:768px){
        #objectSelect{
            top:80px;
            padding:8px 12px;
            font-size:16px;
        }
    }
    </style>
</head>

<body>
<script>
    if (location.host.includes('hf.space')) document.body.classList.add('nohf');
</script>

<div id="info">
    <select id="objectSelect">
        <option value="0">物體1</option>
        <option value="1">物體2</option>
        <option value="2">物體3</option>
        <option value="3">物體4</option>
        <option value="4">物體5</option>
        <option value="5">物體6</option>
        <option value="6">物體7</option>
        <option value="7">物體8</option>
    </select>
</div>

<div id="progress"></div>

<div id="message"></div>
<div class="scene" id="spinner">
    <div class="cube-wrapper">
        <div class="cube">
            <div class="cube-faces">
                <div class="cube-face bottom"></div>
                <div class="cube-face top"></div>
                <div class="cube-face left"></div>
                <div class="cube-face right"></div>
                <div class="cube-face back"></div>
                <div class="cube-face front"></div>
            </div>
        </div>
    </div>
</div>

<canvas id="canvas"></canvas>

<div id="quality"><span id="fps"></span></div>
<div id="caminfo"><span id="camid"></span></div>

<div id="controls">
    <div>
        <button id="btnUp">放大</button>
        <button id="btnDown">縮小</button>
        <button id="btnI">仰視</button>
        <button id="btnK">俯視</button>
        <button id="btnJ">左旋轉</button>
        <button id="btnL">右旋轉</button>
    </div>
</div>

<script src="main_final.js"></script>
</body>
</html>
